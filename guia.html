<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Guia de Compras</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header><img src="logo-horizontal.png" alt="Tá na Lista" class="logo-header"></header>
  <div class="container">
    <h2 id="tituloGuia" class="titulo-centralizado">Guia de Compras</h2>
    <ul id="guiaContainer"></ul>
    <button onclick="voltar()" class="btn-voltar">⬅️ Voltar</button>
  </div>

  <script>
    const listaSelecionada = localStorage.getItem("listaSelecionada");
    const guiaContainer = document.getElementById("guiaContainer");
    const tituloGuia = document.getElementById("tituloGuia");

    let itens = JSON.parse(localStorage.getItem(`itens-${listaSelecionada}`)) || [];

    if (tituloGuia) tituloGuia.textContent = `Comprando: ${listaSelecionada}`;

    function renderizarGuia() {
      guiaContainer.innerHTML = "";
      itens.forEach((item, index) => {
        const li = document.createElement("li");
        li.innerHTML = `
          <span id="item-${index}">${item.nome} (${item.quantidade})</span>
          <button onclick="marcarItem(${index})">✓</button>
        `;
        guiaContainer.appendChild(li);
      });
    }

    function marcarItem(index) {
        const itemSpan = document.getElementById(`item-${index}`);
        itemSpan.classList.toggle("riscado");
    }  

    function voltar() {
      location.href = "./index.html";
    }

    renderizarGuia();
  </script>
</body>
</html>
